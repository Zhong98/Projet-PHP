<?php
  include("Parametres.php");

  $id=mysqli_connect($host,$user,$pass);

  $resultat=mysqli_query($id, "DROP DATABASE IF EXISTS $base");
  $resultat=mysqli_query($id, "CREATE DATABASE $base");
  mysqli_select_db($id, $base)
  or die("Impossible de sélectionner la base : $base");
  
  $resultat=mysqli_query($id, "CREATE TABLE `AIREGEO`(
  `IdAire` int(11) NOT NULL default '0',
  `NomAire` mediumtext NOT NULL,
   PRIMARY KEY  (`IdAire`)
  ) ENGINE=MyISAM DEFAULT CHARSET=latin1;");
  
  $resultat=mysqli_query($id, "INSERT INTO `AIREGEO` (`IdAire`, `NomAire`) VALUES 
  (1,'Auvergne-Rhone-Alpes'),
  (2,'Bourgogne-Franche-Comte'),
  (3,'Bretagne'),
  (4,'Centre-Val de Loire'),
  (5,'Corse'),
  (6,'Grand Est'),
  (7,'Hauts-de-France'),
  (8,'Ile-de-France'),
  (9,'Normandie'),
  (10,'Nouvelle-Aquitaine'),
  (11,'Occitanie'),
  (12,'Pays de la Loire'),
  (13,'Provence-Alpes-Cote d''Azur')");
  
  $resultat=mysqli_query($id,"CREATE TABLE `CLIENT`(
  `IdClient` int(11) NOT NULL default '0',
  `NomClient` mediumtext NOT NULL,
  `Rue` mediumtext NOT NULL,
  `Ville` mediumtext NOT NULL,
  `CodePostale` int(11) NOT NULL default '0',
  `IdAire` int(11) NOT NULL default '0',
   PRIMARY KEY  (`IdClient`)
  ) ENGINE=MyISAM DEFAULT CHARSET=latin1;");
  
  $resultat=mysqli_query($id, "INSERT INTO `CLIENT` (`IdClient`, `NomClient`,`Rue`,`Ville`,`CodePostale`,`IdAire`) VALUES 
  (1,'Martin','Rue du Bac','Versailles',78000,8),
  (2,'Bernard','Rue Leclerc','Nancy',54000,6),
  (3,'Thomas','Rue Foch','Vandoeuvre',54500,6),
  (4,'Petit','Rue de la Bolle','St-Die',88100,6),
  (5,'Robert','Avenue Clemenceau','Paris',75014,8),
  (6,'Richard','Rue des Lys','Paris',75014,8),
  (7,'Durand','Rue des roses','Marseille',13000,13),
  (8,'Dubois','Rue des collines','Toulon',83000,13),
  (9,'Moreau','Rue des sapins','Paris',75014,8),
  (10,'Laurent','Rue de jonquille','Gerardmer',88400,6),
  (11,'Simon','Rue haute','Epinal',88000,6),
  (12,'Michel','Rue Kennedy','Nancy',54000,6),
  (13,'Lefebvre','Rue d''Ulm','Strasbourg',67000,6),
  (14,'Leroy','Rue de la Prainie','Cluny',71250,2),
  (15,'Roux','Rue Gal de Gaulle','St-Die',88100,6)");
  
  $resultat=mysqli_query($id,"CREATE TABLE `FOURNISSEUR`(
  `IdFournisseur` int(11) NOT NULL default '0',
  `NomFournisseur` mediumtext NOT NULL,
  `Rue` mediumtext NOT NULL,
  `Ville` mediumtext NOT NULL,
  `CodePostale` int(11) NOT NULL default '0',
  `IdAire` int(11) NOT NULL,
   PRIMARY KEY  (`IdFournisseur`)
  ) ENGINE=MyISAM DEFAULT CHARSET=latin1;");
  
  $resultat=mysqli_query($id, "INSERT INTO `FOURNISSEUR` (`IdFournisseur`, `NomFournisseur`,`Rue`,`Ville`,`CodePostale`,`IdAire`) VALUES 
  (1,'BOUTICYCLE','Rue Catherine Sauvage','Essey-Les-Nancy',54270,6),
  (2,'Alltricks','Rue Auguste Gervais','Issy-les-Moulineaux',92130,8),
  (3,'Xxcycle','Rue d''Helios','L''Union',31240,11),
  (4,'Materiel-velo','Rue de la Farniere','Gleize',69400,1),
  (5,'BEASTY BIKE','Rue de Turbigo','Paris',75003,8)");
  
  $resultat=mysqli_query($id,"CREATE TABLE `MatierePremiere`(
  `IdMP` int(11) NOT NULL default '0',
  `NomMP` char(30) NOT NULL,
  `IdFournisseur` int(11) NOT NULL default '0',
  `PrixUnit` int(11) NOT NULL default '0',
  PRIMARY KEY   (`IdMP`)
  ) ENGINE=MyISAM DEFAULT CHARSET=latin1;");
  
  $resultat=mysqli_query($id, "INSERT INTO `MatierePremiere` (`IdMP`, `NomMP`,`IdFournisseur`,`PrixUnit`) VALUES 
  (1,'Aluminium',1,10.23),
  (2,'Carbone',2,4.65),
  (3,'Acier',3,4.92),
  (4,'Inox',3,16.57),
  (5,'Teflon',4,3.49),
  (6,'Fer plein F1',4,21),
  (7,'Caoutchouc',5,30)");
  
  $resultat=mysqli_query($id,"CREATE TABLE `PRODUIT`(
  `IdProduit` int(11) NOT NULL default '0',
  `NomProduit` mediumtext NOT NULL,
  `IdFournisseur` int(11) NOT NULL default '0',
  `PrixUnit` int(11) NOT NULL default '0',
  PRIMARY KEY   (`IdProduit`)
  ) ENGINE=MyISAM DEFAULT CHARSET=latin1;");
  
  $resultat=mysqli_query($id, "INSERT INTO `PRODUIT` (`IdProduit`, `NomProduit`,`IdFournisseur`,`PrixUnit`) VALUES 
  (1,'Amortisseur',1,869),
  (2,'Boitier',1,269),
  (3,'Cadre',1,3949),
  (4,'Fourche',2,2269),
  (5,'Chaine',2,226),
  (6,'Jante',3,600),
  (7,'Capteur',3,1499),
  (8,'Transmission',4,1499),
  (9,'Cassette',4,462),
  (10,'Tige',4,800),
  (11,'Selle',4,400),
  (12,'Cintre',5,1199),
  (13,'Potence',5,289),
  (14,'Poignee',5,90),
  (15,'Frein',2,730),
  (16,'Jante',3,600),
  (17,'Moyeu',3,517),
  (18,'Pedale',4,899),
  (19,'Plateau',5,800),
  (20,'Tube T1',5,800),
  (21,'Pneu',1,220)");
  
  $resultat=mysqli_query($id,"CREATE TABLE `Composition`(
  `IdComposition` int(11) NOT NULL default '0',
  `IdProduit` int(11) NOT NULL default '0',
  `IdMP` int(11) NOT NULL default '0',
  PRIMARY KEY   (`IdComposition`)
  ) ENGINE=MyISAM DEFAULT CHARSET=latin1;");
  
  $resultat=mysqli_query($id, "INSERT INTO `Composition` (`IdComposition`,`IdProduit`, `IdMP`) VALUES
  (1,1,1),
  (2,1,3),
  (3,1,4),
  (4,1,5),
  (5,2,5),
  (6,3,1),
  (7,3,2),
  (8,3,3),
  (9,4,4),
  (10,5,4),
  (11,6,3),
  (12,7,1),
  (13,7,5),
  (14,8,4),
  (15,9,5),
  (16,10,2),
  (17,10,4),
  (18,11,6),
  (19,12,3),
  (20,13,3),
  (21,14,4),
  (22,14,6),
  (23,15,4),
  (24,16,3),
  (25,17,4),
  (26,18,5),
  (27,19,4),
  (28,20,6)");
  
  $resultat=mysqli_query($id,"CREATE TABLE `Prevision2017`(
  `IdPrevision` int(11) NOT NULL default '0',
  `IdProduit` int(11) NOT NULL default '0',
  `Ventes` int(11) NOT NULL default '0',
  `Mois` mediumtext NOT NULL,
  PRIMARY KEY   (`IdPrevision`)
  ) ENGINE=MyISAM DEFAULT CHARSET=latin1;");
  
  $resultat=mysqli_query($id, "INSERT INTO `Prevision2017` (`IdPrevision`,`IdProduit`, `Ventes`,`Mois`) VALUES
  (1,1,100,'Janvier'),
  (2,1,100,'Fevrier'),
  (3,1,300,'Mars'),
  (4,1,300,'April'),
  (5,1,200,'Mai'),
  (6,1,400,'Juin'),
  (7,1,300,'Juillet'),
  (8,1,300,'Aout'),
  (9,1,200,'Septembre'),
  (10,1,200,'Octobre'),
  (11,1,100,'Novembre'),
  (12,1,100,'Decembre'),
  (13,2,100,'Janvier'),
  (14,2,100,'Fevrier'),
  (15,2,200,'Mars'),
  (16,2,200,'April'),
  (17,2,200,'Mai'),
  (18,2,400,'Juin'),
  (19,2,300,'Juillet'),
  (20,2,300,'Aout'),
  (21,2,200,'Septembre'),
  (22,2,200,'Octobre'),
  (23,2,100,'Novembre'),
  (24,2,100,'Decembre'),
  (25,3,100,'Janvier'),
  (26,3,100,'Fevrier'),
  (27,3,100,'Mars'),
  (28,3,100,'April'),
  (29,3,200,'Mai'),
  (30,3,300,'Juin'),
  (31,3,300,'Juillet'),
  (32,3,300,'Aout'),
  (33,3,200,'Septembre'),
  (34,3,100,'Octobre'),
  (35,3,100,'Novembre'),
  (36,3,100,'Decembre'),
  (37,4,100,'Janvier'),
  (38,4,100,'Fevrier'),
  (39,4,100,'Mars'),
  (40,4,100,'April'),
  (41,4,200,'Mai'),
  (42,4,300,'Juin'),
  (43,4,400,'Juillet'),
  (44,4,400,'Aout'),
  (45,4,200,'Septembre'),
  (46,4,200,'Octobre'),
  (47,4,100,'Novembre'),
  (48,4,100,'Decembre'),
  (49,5,100,'Janvier'),
  (50,5,100,'Fevrier'),
  (51,5,300,'Mars'),
  (52,5,300,'April'),
  (53,5,200,'Mai'),
  (54,5,400,'Juin'),
  (55,5,300,'Juillet'),
  (56,5,300,'Aout'),
  (57,5,200,'Septembre'),
  (58,5,200,'Octobre'),
  (59,5,100,'Novembre'),
  (60,5,100,'Decembre'),
  (61,6,100,'Janvier'),
  (62,6,100,'Fevrier'),
  (63,6,200,'Mars'),
  (64,6,200,'April'),
  (65,6,300,'Mai'),
  (66,6,400,'Juin'),
  (67,6,300,'Juillet'),
  (68,6,300,'Aout'),
  (69,6,200,'Septembre'),
  (70,6,200,'Octobre'),
  (71,6,100,'Novembre'),
  (72,6,100,'Decembre'),
  (73,7,100,'Janvier'),
  (74,7,100,'Fevrier'),
  (75,7,300,'Mars'),
  (76,7,300,'April'),
  (77,7,200,'Mai'),
  (78,7,400,'Juin'),
  (79,7,300,'Juillet'),
  (80,7,300,'Aout'),
  (81,7,200,'Septembre'),
  (82,7,200,'Octobre'),
  (83,7,100,'Novembre'),
  (84,7,100,'Decembre'),
  (85,8,100,'Janvier'),
  (86,8,100,'Fevrier'),
  (87,8,200,'Mars'),
  (88,8,300,'April'),
  (89,8,300,'Mai'),
  (90,8,400,'Juin'),
  (91,8,300,'Juillet'),
  (92,8,300,'Aout'),
  (93,8,300,'Septembre'),
  (94,8,200,'Octobre'),
  (95,8,100,'Novembre'),
  (96,8,100,'Decembre'),
  (97,9,100,'Janvier'),
  (98,9,100,'Fevrier'),
  (99,9,200,'Mars'),
  (100,9,200,'April'),
  (101,9,200,'Mai'),
  (102,9,400,'Juin'),
  (103,9,300,'Juillet'),
  (104,9,300,'Aout'),
  (105,9,200,'Septembre'),
  (106,9,200,'Octobre'),
  (107,9,100,'Novembre'),
  (108,9,100,'Decembre'),
  (109,10,100,'Janvier'),
  (110,10,100,'Fevrier'),
  (111,10,200,'Mars'),
  (112,10,200,'April'),
  (113,10,300,'Mai'),
  (114,10,400,'Juin'),
  (115,10,300,'Juillet'),
  (116,10,300,'Aout'),
  (117,10,200,'Septembre'),
  (118,10,200,'Octobre'),
  (119,10,100,'Novembre'),
  (120,10,100,'Decembre'),
  (121,11,100,'Janvier'),
  (122,11,100,'Fevrier'),
  (123,11,300,'Mars'),
  (124,11,300,'April'),
  (125,11,400,'Mai'),
  (126,11,400,'Juin'),
  (127,11,400,'Juillet'),
  (128,11,300,'Aout'),
  (129,11,200,'Septembre'),
  (130,11,200,'Octobre'),
  (131,11,100,'Novembre'),
  (132,11,100,'Decembre'),
  (133,12,100,'Janvier'),
  (134,12,100,'Fevrier'),
  (135,12,100,'Mars'),
  (136,12,200,'April'),
  (137,12,300,'Mai'),
  (138,12,400,'Juin'),
  (139,12,400,'Juillet'),
  (140,12,300,'Aout'),
  (141,12,200,'Septembre'),
  (142,12,200,'Octobre'),
  (143,12,100,'Novembre'),
  (144,12,100,'Decembre'),
  (145,13,100,'Janvier'),
  (146,13,100,'Fevrier'),
  (147,13,200,'Mars'),
  (148,13,300,'April'),
  (149,13,300,'Mai'),
  (150,13,400,'Juin'),
  (151,13,400,'Juillet'),
  (152,13,300,'Aout'),
  (153,13,300,'Septembre'),
  (154,13,200,'Octobre'),
  (155,13,100,'Novembre'),
  (156,13,100,'Decembre'),
  (157,14,100,'Janvier'),
  (158,14,100,'Fevrier'),
  (159,14,200,'Mars'),
  (160,14,200,'April'),
  (161,14,300,'Mai'),
  (162,14,400,'Juin'),
  (163,14,300,'Juillet'),
  (164,14,300,'Aout'),
  (165,14,200,'Septembre'),
  (166,14,200,'Octobre'),
  (167,14,100,'Novembre'),
  (168,14,100,'Decembre'),
  (169,15,100,'Janvier'),
  (170,15,100,'Fevrier'),
  (171,15,100,'Mars'),
  (172,15,100,'April'),
  (173,15,200,'Mai'),
  (174,15,300,'Juin'),
  (175,15,300,'Juillet'),
  (176,15,300,'Aout'),
  (177,15,200,'Septembre'),
  (178,15,100,'Octobre'),
  (179,15,100,'Novembre'),
  (180,15,100,'Decembre'),
  (181,16,100,'Janvier'),
  (182,16,100,'Fevrier'),
  (183,16,100,'Mars'),
  (184,16,100,'April'),
  (185,16,300,'Mai'),
  (186,16,300,'Juin'),
  (187,16,300,'Juillet'),
  (188,16,200,'Aout'),
  (189,16,200,'Septembre'),
  (190,16,100,'Octobre'),
  (191,16,100,'Novembre'),
  (192,16,100,'Decembre'),
  (193,17,100,'Janvier'),
  (194,17,100,'Fevrier'),
  (195,17,100,'Mars'),
  (196,17,100,'April'),
  (197,17,200,'Mai'),
  (198,17,300,'Juin'),
  (199,17,300,'Juillet'),
  (200,17,300,'Aout'),
  (201,17,200,'Septembre'),
  (202,17,100,'Octobre'),
  (203,17,100,'Novembre'),
  (204,17,100,'Decembre'),
  (205,18,100,'Janvier'),
  (206,18,100,'Fevrier'),
  (207,18,100,'Mars'),
  (208,18,100,'April'),
  (209,18,200,'Mai'),
  (210,18,300,'Juin'),
  (211,18,300,'Juillet'),
  (212,18,300,'Aout'),
  (213,18,200,'Septembre'),
  (214,18,100,'Octobre'),
  (215,18,100,'Novembre'),
  (216,18,100,'Decembre'),
  (217,19,100,'Janvier'),
  (218,19,100,'Fevrier'),
  (219,19,100,'Mars'),
  (220,19,100,'April'),
  (221,19,200,'Mai'),
  (222,19,300,'Juin'),
  (223,19,300,'Juillet'),
  (224,19,300,'Aout'),
  (225,19,200,'Septembre'),
  (226,19,100,'Octobre'),
  (227,19,100,'Novembre'),
  (228,19,100,'Decembre'),
  (229,20,100,'Janvier'),
  (230,20,100,'Fevrier'),
  (231,20,200,'Mars'),
  (232,20,200,'April'),
  (233,20,300,'Mai'),
  (234,20,400,'Juin'),
  (235,20,300,'Juillet'),
  (236,20,300,'Aout'),
  (237,20,200,'Septembre'),
  (238,20,200,'Octobre'),
  (239,20,100,'Novembre'),
  (240,20,100,'Decembre'),
  (241,21,100,'Janvier'),
  (242,21,100,'Fevrier'),
  (243,21,200,'Mars'),
  (244,21,200,'April'),
  (245,21,300,'Mai'),
  (246,21,400,'Juin'),
  (247,21,300,'Juillet'),
  (248,21,300,'Aout'),
  (249,21,200,'Septembre'),
  (250,21,200,'Octobre'),
  (251,21,100,'Novembre'),
  (252,21,100,'Decembre')");
  
  $resultat=mysqli_query($id,"CREATE TABLE `EMPLOYE`(
  `IdProduit` int(11) NOT NULL default '0',
  `NbEmploye` int(11) NOT NULL default '0',
  `NbProduit` int(11) NOT NULL default '0',
  PRIMARY KEY   (`IdProduit`)
  ) ENGINE=MyISAM DEFAULT CHARSET=latin1;");
  
  $resultat=mysqli_query($id, "INSERT INTO `EMPLOYE` (`IdProduit`, `NbEmploye`,`NbProduit`) VALUES
  (1,5,100),
  (2,4,100),
  (3,4,100),
  (4,4,100),
  (5,5,100),
  (6,5,100),
  (7,3,100),
  (8,3,100),
  (9,4,100),
  (10,4,100),
  (11,2,100),
  (12,5,100),
  (13,4,100),
  (14,4,100),
  (15,3,100),
  (16,5,100),
  (17,5,100),
  (18,3,100),
  (19,4,100),
  (20,4,100)");
  
  $resultat=mysqli_query($id,"CREATE TABLE `COMMANDE`(
  `IdCommande` tinyint(4) NOT NULL default '0',
  `IdClient` int(11) NOT NULL default '0',
  `IdProduit` int(11) NOT NULL default '0',
  `Annee` int(11) NOT NULL default '0',
  `Mois` int(11) NOT NULL default '0',
  `Journee` int(11) NOT NULL default '0',
  `Quantite` int(11) NOT NULL default '0',
  `Prix` int(11) NOT NULL default '0',
  PRIMARY KEY   (`IdCommande`)
  ) ENGINE=MyISAM DEFAULT CHARSET=latin1;");
  
  $resultat=mysqli_query($id, "INSERT INTO `COMMANDE` (`IdCommande`,`IdClient`,`IdProduit`,`Annee`,`Mois`,`Journee`,`Quantite`,`Prix`) VALUES
  (1,1,2,2006,7,15,100,269),
  (2,1,3,2008,9,15,50,1975),
  (3,2,1,2007,3,7,100,869),
  (4,2,7,2010,6,13,20,300),
  (5,2,11,2008,1,2,40,160),
  (6,3,4,2008,11,1,100,2269),
  (7,4,2,2010,10,23,50,435),
  (8,4,6,2012,2,2,20,120),
  (9,5,5,2013,4,5,100,226),
  (10,5,10,2013,4,5,100,800),
  (11,6,8,2014,6,12,120,1800),
  (12,6,7,2015,4,8,20,300),
  (13,7,12,2016,10,13,100,1199),
  (14,8,11,2009,8,30,80,320),
  (15,8,15,2012,7,6,100,730),
  (16,9,2,2014,4,20,100,269),
  (17,9,9,2014,10,29,40,185),
  (18,9,10,2014,12,4,100,800),
  (19,10,19,2015,10,27,50,400),
  (20,10,20,2016,1,19,20,44),
  (21,11,17,2016,11,30,100,517),
  (22,12,18,2013,6,27,50,450),
  (23,12,1,2014,3,11,20,174),
  (24,13,16,2015,4,10,40,240),
  (25,14,13,2008,3,22,60,173),
  (26,15,4,2010,2,23,300,9076),
  (27,15,20,2011,1,19,100,220)");
?>